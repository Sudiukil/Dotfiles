# General

## General behavior

focus_follows_mouse no
workspace_auto_back_and_forth yes

## Windows look

new_window pixel
new_float pixel

## Font & colors

font pango:Inconsolata 11

set $color0		 #282a2e
set $color8		 #373b41
set $color1		 #a54242
set $color9		 #cc6666
set $color2		 #8c9440
set $color10	 #b5bd68
set $color3		 #de935f
set $color11	 #f0c674
set $color4		 #5f819d
set $color12	 #81a2be
set $color5		 #85678f
set $color13	 #b294bb
set $color6		 #5e8d87
set $color14	 #8abeb7
set $color7		 #707880
set $color15	 #c5c8c6

# class 					border 			background 			text 			indicator
client.focused 				$color4 		$color4 			$color15 		$color2
client.focused_inactive 	$color0		 	$color0 			$color15     	$color15
client.unfocused 			$color0		 	$color0 			$color15		$color15
client.urgent 				$color1			$color1				$color15		$color2

## Monitors

set $mon1 DP-1
set $mon2 DVI-D-0
set $mon3 HDMI-0

## Status bar

bindsym $mod+Shift+b bar mode toggle

bar {
	id main-bar
	i3bar_command i3bar
	status_command c3status
	font pango:Inconsolata 11
	colors {
		#background $black2
		background $color0
		statusline $color15
		separator $color0

		# class 			border 			background 		text
		focused_workspace 	$color0			$color0			$color4
		active_workspace 	$color0			$color0			$color15
		inactive_workspace 	$color0			$color0			$color15
		urgent_workspace 	$color1			$color1			$color15
	}
	position top
	tray_output $mon1
}

## Workspaces

set $ws1 "1"
set $ws2 "2 Web"
set $ws3 "3 Chat"
set $ws4 "4 Music"
set $ws5 "5 Glances"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
set $ws11 "11"
set $ws12 "12"

## Windows assignments

assign [class="Firefox"] $ws2
assign [class="Franz"] $ws3
assign [class="Spotify"] $ws4
assign [title="ncmpcpp"] $ws4
assign [title="Glances"] $ws5

## Workspaces assignments

workspace $ws1 output $mon1
workspace $ws2 output $mon1
workspace $ws3 output $mon2
workspace $ws4 output $mon2
workspace $ws5 output $mon3

## Windows rules

### General

for_window [title="urxvt - floating"] floating enable
for_window [title="Préférences de Firefox"] floating enable
for_window [title="Préférences de Thunderbird"] floating enable
for_window [class="Pavucontrol"] floating enable

# Bindings

## Modifiers

set $mod Mod4
floating_modifier $mod

## Session management

bindsym $mod+Ctrl+r restart
bindsym $mod+Ctrl+e exec quitbar

## Windows management

### Borders

bindsym $mod+Shift+o border normal 1
bindsym $mod+Shift+p border pixel 1

### Layout

#bindsym $mod+a layout stacking
bindsym $mod+q layout tabbed
bindsym $mod+w layout toggle split
bindsym $mod+Shift+f fullscreen
bindsym $mod+Shift+space floating toggle

### Splitting

bindsym $mod+Shift+h split h
bindsym $mod+Shift+v split v

### Focusing

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+u focus parent

### Moving

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

### Scratchpad

bindsym $mod+Shift+BackSpace move scratchpad
bindsym $mod+Shift+Return scratchpad show

## Desktop management

bindsym $mod+Shift+n exec i3-input -F 'rename workspace to "%s"' -P 'New name: '

### Switching

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10
bindsym $mod+parenright workspace number $ws11
bindsym $mod+equal workspace number $ws12
bindsym $mod+n exec ~/Autre/Scripts/Ruby/i3_new_workspace.rb

### Sending window to desktop

bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10
bindsym $mod+Shift+parenright move container to workspace number $ws11
bindsym $mod+Shift+equal move container to workspace number $ws12

### Switching with window

bindsym $mod+Ctrl+1 move container to workspace number $ws1; workspace number $ws1
bindsym $mod+Ctrl+2 move container to workspace number $ws2; workspace number $ws2
bindsym $mod+Ctrl+3 move container to workspace number $ws3; workspace number $ws3
bindsym $mod+Ctrl+4 move container to workspace number $ws4; workspace number $ws4
bindsym $mod+Ctrl+5 move container to workspace number $ws5; workspace number $ws5
bindsym $mod+Ctrl+6 move container to workspace number $ws6; workspace number $ws6
bindsym $mod+Ctrl+7 move container to workspace number $ws7; workspace number $ws7
bindsym $mod+Ctrl+8 move container to workspace number $ws8; workspace number $ws8
bindsym $mod+Ctrl+9 move container to workspace number $ws9; workspace number $ws9
bindsym $mod+Ctrl+0 move container to workspace number $ws10; workspace number $ws10
bindsym $mod+Ctrl+parenright move container to workspace number $ws11; workspace number $ws11
bindsym $mod+Ctrl+equal move container to workspace number $ws12; workspace number $ws12

### Switching desktop to screen

bindsym $mod+Ctrl+Left move workspace to output left
bindsym $mod+Ctrl+Right move workspace to output right

## Shortcuts

### General

bindsym $mod+t exec urxvt
bindsym $mod+d exec dmenu_run -p '>' -fn "Inconsolata-11:normal" -nb "$color0" -nf "$color15" -sb "$color0" -sf "$color4"
bindsym $mod+Shift+d exec i3-input -F '%s' -P 'Command: '
bindsym $mod+z kill

### Various programs

bindsym $mod+e exec nautilus -w
bindsym $mod+f exec urxvt -e ranger
bindsym $mod+l exec i3lock -t -i "`grep '^feh' ~/.fehbg | cut -d "'" -f 2`"
bindsym $mod+x exec urxvt -title "urxvt - floating"
bindsym $mod+Shift+x exec xterm

### Volume

bindsym XF86AudioRaiseVolume exec amixer -q set Master 2%+
bindsym XF86AudioLowerVolume exec amixer -q set Master 2%-
bindsym XF86AudioMute exec amixer -q set Master toggle
bindsym $mod+c exec paswitch -c
bindsym $mod+v exec pavucontrol

### Music

bindsym $mod+s exec ~/Autre/Scripts/Ruby/i3_spotify.rb
bindsym $mod+m exec urxvt -title ncmpcpp -e ncmpcpp
bindsym XF86AudioPlay exec mediactl toggle
bindsym XF86AudioStop exec mediactl stop
bindsym Shift+XF86AudioPlay exec mediactl stop
bindsym XF86AudioPrev exec mediactl prev
bindsym XF86AudioNext exec mediactl next

# Launch at i3 start

## Keyboard

exec setxkbmap fr
exec numlockx on

## Display

exec xrandr --output $mon1 --auto --primary --output $mon2 --auto --right-of $mon1 --output $mon3 --auto --left-of $mon1
exec sleep 3 && sh ~/.fehbg

## Audio

exec pulseaudio --start
exec sleep 3 && amixer -q set Master 30%

## Others

exec xrdb ~/.Xresources

exec devmon
exec autocutsel
exec autocutsel -s PRIMARY
exec dunst
exec redshift
exec nextcloud
exec mpd

exec sleep 2 && progs

# i3-gaps config

# Necessary for i3-gaps to work properly (pixel can be any value)
for_window [class="^.*"] border pixel 1

# Smart Gaps
#smart_gaps on

# Smart Borders
#smart_borders on

# Some color adjustments
#client.focused_inactive #000000 #000000 #000000 #000000 #000000
#client.unfocused        #000000 #000000 #000000 #000000 #000000

# Set inner/outer gaps
gaps inner 12
gaps outer -2

# Gaps mode
set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
bindsym $mod+Shift+g mode "$mode_gaps"

mode "$mode_gaps" {
		bindsym o      mode "$mode_gaps_outer"
		bindsym i      mode "$mode_gaps_inner"
		bindsym Return mode "default"
		bindsym Escape mode "default"
}

mode "$mode_gaps_inner" {
		bindsym plus  gaps inner current plus 5
		bindsym minus gaps inner current minus 5
		bindsym 0     gaps inner current set 0

		bindsym Shift+plus  gaps inner all plus 5
		bindsym Shift+minus gaps inner all minus 5
		bindsym Shift+0     gaps inner all set 0

		bindsym Return mode "default"
		bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
		bindsym plus  gaps outer current plus 5
		bindsym minus gaps outer current minus 5
		bindsym 0     gaps outer current set 0

		bindsym Shift+plus  gaps outer all plus 5
		bindsym Shift+minus gaps outer all minus 5
		bindsym Shift+0     gaps outer all set 0

		bindsym Return mode "default"
		bindsym Escape mode "default"
}
