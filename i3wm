# General

## General behavior

focus_follows_mouse no
workspace_auto_back_and_forth yes

## Windows look

new_window pixel
new_float pixel

## Font & colors

font pango:DroidSansMono 9

set $black1 #34495e
set $black2 #383c4a

set $red1 #e74c3c
set $red2 #c0392b

set $green1 #2ecc71
set $green2 #27ae60

set $yellow1 #f1c40f
set $yellow2 #f39c12

set $blue1 #4084d6
set $blue2 #2980b9

set $magenta1 #9b59b6
set $magenta2 #8e44ad

set $cyan1 #1abc9c
set $cyan2 #16a085

set $white1 #ecf0f1
set $white2 #7f8c8d

set $transparent50 #0000007f
set $transparent100 #00000000

# "Fake" transparent (equivalent to transparent above my background, used for dmenu)
set $fake_transparent50 #1c1e25

# class 					border 			background 			text 			indicator
client.focused 				$blue2 			$blue2 				$white1 		$green2
client.focused_inactive 	$transparent50	$transparent50		$white2     	$white2
client.unfocused 			$transparent50	$transparent50		$white2			$white2
client.urgent 				$red1			$red1 				$white1			$green2

## Status bar

bindsym $mod+Shift+b bar mode toggle

bar {
	id main-bar
	i3bar_command i3bar -t
	status_command c3status
	font pango:DroidSansMono 9
	colors {
		#background $black2
		background $transparent50
		statusline $white1
		separator $transparent50

		# class 			border 			background 		text
		focused_workspace 	$transparent50	$transparent50	$blue1
		active_workspace 	$transparent50	$transparent50	$white2
		inactive_workspace 	$transparent50	$transparent50	$white2
		urgent_workspace 	$red1			$red1			$white1
	}
	position top
	tray_output HDMI-0
}

## Workspaces

set $ws1 "1"
set $ws2 "2 Web"
set $ws3 "3 Chat/mail"
set $ws4 "4 Music"
set $ws5 "5 DL"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"
set $ws11 "11"
set $ws12 "12"

## Screens

set $scr1 HDMI-0
set $scr2 DVI-D-0

## Windows assignments

assign [class="Firefox"] $ws2
assign [class="Rambox"] $ws3
assign [class="Thunderbird"] $ws3
assign [class="Icedove"] $ws3
assign [title="ncmpcpp"] $ws4
assign [class="Spotify"] $ws4
assign [class="JDownloader"] $ws5

## Workspaces assignments

workspace $ws1 output $scr1
workspace $ws2 output $scr1
workspace $ws3 output $scr2
workspace $ws4 output $scr2
workspace $ws12 output $scr2

## Windows rules

### General

for_window [title="urxvt - floating"] floating enable
for_window [title="Préférences de Firefox"] floating enable
for_window [title="Préférences de Thunderbird"] floating enable
for_window [class="Pavucontrol"] floating enable

# Bindings

## Modifiers

set $mod Mod4
floating_modifier $mod

## Session management

bindsym $mod+Ctrl+r restart
bindsym $mod+Ctrl+e exec ~/Autre/Scripts/quitbar

## Windows management

### Borders

bindsym $mod+Shift+o border normal 1
bindsym $mod+Shift+p border pixel 1

### Layout

#bindsym $mod+a layout stacking
bindsym $mod+q layout tabbed
bindsym $mod+w layout toggle split
bindsym $mod+Shift+f fullscreen
bindsym $mod+Shift+space floating toggle

### Splitting

bindsym $mod+Shift+h split h
bindsym $mod+Shift+v split v

### Focusing

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+u focus parent

### Moving

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

### Scratchpad

bindsym $mod+Shift+BackSpace move scratchpad
bindsym $mod+Shift+Return scratchpad show

## Desktop management

bindsym $mod+Shift+n exec i3-input -F 'rename workspace to "%s"' -P 'New name: '

### Switching

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10
bindsym $mod+parenright workspace number $ws11
bindsym $mod+equal workspace number $ws12

### Sending window to desktop

bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10
bindsym $mod+Shift+parenright move container to workspace number $ws11
bindsym $mod+Shift+equal move container to workspace number $ws12

### Switching with window

bindsym $mod+Ctrl+1 move container to workspace number $ws1; workspace number $ws1
bindsym $mod+Ctrl+2 move container to workspace number $ws2; workspace number $ws2
bindsym $mod+Ctrl+3 move container to workspace number $ws3; workspace number $ws3
bindsym $mod+Ctrl+4 move container to workspace number $ws4; workspace number $ws4
bindsym $mod+Ctrl+5 move container to workspace number $ws5; workspace number $ws5
bindsym $mod+Ctrl+6 move container to workspace number $ws6; workspace number $ws6
bindsym $mod+Ctrl+7 move container to workspace number $ws7; workspace number $ws7
bindsym $mod+Ctrl+8 move container to workspace number $ws8; workspace number $ws8
bindsym $mod+Ctrl+9 move container to workspace number $ws9; workspace number $ws9
bindsym $mod+Ctrl+0 move container to workspace number $ws10; workspace number $ws10
bindsym $mod+Ctrl+parenright move container to workspace number $ws11; workspace number $ws11
bindsym $mod+Ctrl+equal move container to workspace number $ws12; workspace number $ws12

### Switching desktop to screen

bindsym $mod+Ctrl+Left move workspace to output left
bindsym $mod+Ctrl+Right move workspace to output right

## Shortcuts

### General

bindsym $mod+t exec urxvt
bindsym $mod+d exec dmenu_run -p '>' -fn "DroidSansMono-9:normal" -nb "$fake_transparent50" -nf "$white2" -sb "$fake_transparent50" -sf "$blue1" -h 20
bindsym $mod+Shift+d exec i3-input -F '%s' -P 'Command: '
bindsym $mod+z kill

### Various programs

bindsym $mod+e exec thunar
bindsym $mod+f exec urxvt -e ranger
bindsym $mod+l exec i3lock -t -i "`grep '^feh' ~/.fehbg | cut -d "'" -f 2`"
bindsym $mod+x exec urxvt -title "urxvt - floating" -bg "[90]#000000"
bindsym $mod+Shift+l exec sleep 1 && xset dpms force off && i3lock -t -i "`grep '^feh' ~/.fehbg | cut -d "'" -f 2`"
bindsym $mod+Shift+x exec xterm

### Volume

bindsym XF86AudioRaiseVolume exec amixer -q set Master 2%+
bindsym XF86AudioLowerVolume exec amixer -q set Master 2%-
bindsym XF86AudioMute exec amixer -q set Master toggle
bindsym $mod+c exec ~/Autre/Scripts/paswitch -c
bindsym $mod+v exec pavucontrol

### Music

bindsym $mod+n exec urxvt -title ncmpcpp -e ncmpcpp -c ~/.config/ncmpcpp/config
bindsym $mod+s exec spotify
bindsym XF86AudioPlay exec ~/Autre/Scripts/mediactl toggle
bindsym XF86AudioStop exec ~/Autre/Scripts/mediactl stop
bindsym Shift+XF86AudioPlay exec ~/Autre/Scripts/mediactl stop
bindsym XF86AudioPrev exec ~/Autre/Scripts/mediactl prev
bindsym XF86AudioNext exec ~/Autre/Scripts/mediactl next
bindsym $mod+m exec ~/Autre/Scripts/savetitle
bindsym $mod+y exec ~/Autre/Scripts/musicsearch

# Launch at i3 start

## Keyboard

exec setxkbmap fr
exec numlockx on

## Display

exec xrandr --output HDMI-0 --auto --output DVI-D-0 --auto --right-of HDMI-0
exec sleep 3 && sh ~/.fehbg

## Audio

exec pulseaudio --start
exec sleep 3 && amixer -q set Master 30%

## Others

exec xrdb ~/.Xresources

exec devmon
exec autocutsel
exec autocutsel -s PRIMARY
exec dunst
exec mpd
exec redshift
exec compton -b --backend glx --vsync opengl

# i3-gaps config

# Necessary for i3-gaps to work properly (pixel can be any value)
for_window [class="^.*"] border pixel 1

# Set inner/outer gaps
gaps inner 12
gaps outer -2

# Gaps mode
set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
bindsym $mod+Shift+g mode "$mode_gaps"

mode "$mode_gaps" {
        bindsym o      mode "$mode_gaps_outer"
        bindsym i      mode "$mode_gaps_inner"
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

mode "$mode_gaps_inner" {
        bindsym plus  gaps inner current plus 5
        bindsym minus gaps inner current minus 5
        bindsym 0     gaps inner current set 0

        bindsym Shift+plus  gaps inner all plus 5
        bindsym Shift+minus gaps inner all minus 5
        bindsym Shift+0     gaps inner all set 0

        bindsym Return mode "default"
        bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
        bindsym plus  gaps outer current plus 5
        bindsym minus gaps outer current minus 5
        bindsym 0     gaps outer current set 0

        bindsym Shift+plus  gaps outer all plus 5
        bindsym Shift+minus gaps outer all minus 5
        bindsym Shift+0     gaps outer all set 0

        bindsym Return mode "default"
        bindsym Escape mode "default"
}
